import re
import requests
import whois
# https://www.eurodns.com/whois-search

file = open('importScript_3party_domain_url.txt', 'r')
file1 = open('test1.txt', 'a')
Lines = file.readlines()
for line in Lines:
    l = line.split(',')
    # file1.write(str(l[0]) + '\n')
    try:
        whois_data = whois.whois(l[0])
        # print(whois_data.org)
        # file1.write(str(whois_data.org) + ', ' + str(l[1])+'\n')
        # print(whois_data)
        # file1.write(str(whois_data))
    except:
        # file1.write('error')
        print(l[0] + ' error' + '\n')
        # file1.write('error')
# headers = {
#     'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36'}
# count = 0
# Strips the newline character
# i = 0
# for line in Lines:
#     w = whois.whois(str(line))
#     file1.write(str(w) + '\n')
#     print(i)
#     i += 1
    # print(w)
    # count += 1
    # print("Line{}: {}".format(count, line.strip()))
    # site_request = requests.get(line, headers=headers)
    # site_response = str(site_request.content)
    # # text = "importScripts('https://www.gstatic.com/firebasejs/6.2.4/firebase-app.js');"
    # print(site_response)
    # index = site_response.find("importScripts")
    # print(index)
    # data = re.findall(
    #     "importScripts\([\'\"a-zA-Z0-9\.\/:-\?_]*\);", site_response)
    # print(data)
# for d in data:
#     url = d[15:-2]
#     print(url)
#     sub_url = re.search("//[a-z\.]*", url)
#     print(sub_url.group())
#     url = sub_url.group()
#     domain = re.findall("[A-Za-z]?\.[A-Za-z]?", url)
#     print(domain)

# w = whois.whois(str(domain))
